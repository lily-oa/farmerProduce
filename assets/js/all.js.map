{"version":3,"sources":["all.js"],"names":["url","productList","document","querySelector","btnGroup","btnCropsType","querySelectorAll","inputTxt","inputBtn","resultName","selectList","tableSortGroup","data","filterData","getData","axios","get","then","response","filter","item","作物名稱","init","innerHTML","addEventListener","searchCrops","searchCropsKey","e","value","trim","classList","add","match","forEach","remove","textContent","resetSelect","length","content","key"],"mappings":"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","file":"all.js","sourcesContent":["const url = \"https://hexschool.github.io/js-filter-data/data.json\";\nconst productList = document.querySelector('.show-list');\nconst btnGroup = document.querySelector('.btn-group');\nconst btnCropsType = document.querySelectorAll('.btn-group a');  //共三顆按鈕要用\"querySelectorAll\nconst inputTxt = document.querySelector('.input-txt');\nconst inputBtn = document.querySelector('.input-btn');\nconst resultName = document.querySelector('.result-name');\nconst selectList = document.querySelector('.select-group');\nconst tableSortGroup = document.querySelector('.table-title');\n\nlet data;\nlet filterData = [];\n\n//---- axios撈取資料 ---- //\nfunction getData(){\n  axios.get(url)\n  .then(function(response){\n    data = response.data.filter(item => item.作物名稱);\n    // console.log(data);\n    init(); //非同步\n  });\n}\n\n// 預設渲染畫面  初始值\nfunction init(){\n  productList.innerHTML = `\n  <tr class=\"table-waiting\">\n    <td colspan=\"7\">請輸入並搜尋想比價的作物名稱^_^</td>\n  </tr>`;\n\n  inputBtn.addEventListener('click', searchCrops, false);\n  inputTxt.addEventListener('keyup', searchCropsKey, false );  //鍵盤搜尋\n\n}\n\n\ngetData();\n\n// 搜尋資料\nfunction searchCrops(e){\n  if(inputTxt.value.trim() !== \"\"){\n    inputBtn.classList.add('btn-active');\n  }else{\n    return;\n  }\n\n  // 過濾輸入值的空白\n  filterData = data.filter(item => item.作物名稱.match(inputTxt.value.trim()));\n  btnCropsType.forEach(item => item.classList.remove('active'));\n\n  resultName.textContent = inputTxt.value.trim();\n  inputTxt.value = '';\n  inputBtn.classList.remove('btn-active');\n  resetSelect();\n\n  if(filterData.length === 0){\n    let content = `<tr class=\"table-waiting\"><td colspan=\"7\">查詢不到交易資訊</td></tr>`;\n    productList.innerHTML = content;\n    return;\n  };\n  // update(filterData);\n}\n\n//鍵盤搜尋事件\n  function searchCropsKey(e){\n    if(inputTxt.value.trim()==''){\n      return;\n    };\n    inputBtn.classList.add('btn-active');\n    if(e.key === 'Entre'){\n      searchCrops(e);\n    }\n  }\n\n\n// 清空下拉選單\nfunction resetSelect() {\n  selectList[0].value = '排序篩選';\n  selectList[1].value = '排序';\n}"]}